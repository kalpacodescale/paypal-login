<span id="button"></span>
<script src="https://www.paypalobjects.com/js/external/api.js"></script>
<script>
  paypal.use(["login"], function (login) {
    login.render({
      appid:
        "AeY_t53YiChQH9v_2ijT91rCmNXNbRpl6ljO_PmOgNxLmtb5_3pxeJK08TEUmkouyS8Mn1lyisQfXu1J",
      authend: "sandbox",
      scopes:
        "openid email profile https://uri.paypal.com/services/paypalattributes",
      containerid: "button",
      responseType: "code",
      locale: "en-us",
      theme: "neutral",
      buttonType: "LWP",
      buttonShape: "pill",
      buttonSize: "lg",
      fullPage: "true",
      returnurl: "https://duelcubepp.github.io",
    });
  });

  const buttonNode = document.querySelector("#button");
  const config = { childList: true };

  const callback = (mutationList, observer) => {
    for (const mutation of mutationList) {
      if (mutation.type === "childList") {
        const aTag = buttonNode.querySelector("a");
        if (aTag) {
          aTag.click();
        }
      }
    }
  };

  const observer = new MutationObserver(callback);

  observer.observe(buttonNode, config);
</script>
